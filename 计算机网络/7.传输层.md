## 1. 传输层简介

**传输层功能：**

- **提供进程与进程之间的逻辑通信**

- 复用和分用服务

- 传输层对接收到的<u>报文</u>进行**差错检验**

> 传输层检查来自应用层的数据部分（即传输层的报文段），网络层检验IP数据报的首部，不用检查数据部分

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200726153826.png)

## 2. 传输层协议简介

### TCP协议

**TCP协议：面向连接的传输控制协议**

【特点】

- 传输数据前必须建立连接，数据传输结束后要释放连接

- 不提供广播或多播服务

- 可靠地面向连接传输服务机制：**确认应答、流量控制、计时器、连接管理**

**<font color = #5cdbd3>可靠，面向连接，时延大，适用于大文件</font>**

### UDP协议

**UDP协议：无连接的用户数据报协议**

【特点】

- 传输数据不需要建立连接

- 接收到UDP报文后不需要给出确认

**<font color = #5cdbd3>不可靠，无连接，时延小，适用于小文件</font>**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200726154854.png)

## 3. 传输层的寻址与端口

**复用**：应用层所有的应用进程都可以通过传输层再传输到网络层

**分用**：传输层从网络层收到数据后交付<u>指明的应用进程</u>

**端口号**：是传输层的SAP（服务访问点），标识主机中的应用进程

端口号只有本地意义，在因特网中不同计算机的相同端口是没有联系的。
端口号长度为16bit，能表示2^16^ = 65536个不同的端口号。

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200726160210.png)

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200726160330.png)

> 我在**21**岁发现一个漂亮的姑凉，追了两年，**23**岁和她正式谈恋爱，两年之后**25**岁时分手互删好友。过了二十年我**53**岁想起她，给我的初恋打电话，我**80**岁暮年之时和她说还有再见一面！跟人的故事，类目！

**套接字Socket**：主机`IP`地址 + 端口号组合而成

**套接字唯一标识了网络中的一个主机和它上面的一个进程（端点）**

> 主机上一个具体的进程

## 4. UDP协议

## 5. TCP协议
