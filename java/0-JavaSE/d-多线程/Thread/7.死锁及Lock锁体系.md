### 1. æ­»é”

æ­»é”å‚ç”Ÿçš„æ¡ä»¶(ä¸‹åˆ—å››ä¸ªæ¡ä»¶å¿…é¡»åŒæ—¶æ»¡è¶³)ï¼š

1. äº’æ–¥
2. ä¸å¯æŠ¢å 
3. å æœ‰ä¸”ç­‰å¾…
4. å¾ªç¯ç­‰å¾…

**äº’æ–¥**

- å…±äº«èµ„æºåªèƒ½åŒæ—¶è¢«ä¸€ä¸ªçº¿ç¨‹å ç”¨ï¼Œé”ğŸ”’å…·æœ‰ç‹¬å æ€§

**ä¸å¯æŠ¢å **

- çº¿ç¨‹ä¸èƒ½å¼ºè¡ŒæŠ¢å å…¶ä»–çº¿ç¨‹çš„é”

**å æœ‰ä¸”ç­‰å¾…**

- å½“å‰çº¿ç¨‹æ‹¿åˆ°äº†ä¸€ä¸ªé”ï¼Œä¸é‡Šæ”¾çš„åŒæ—¶åˆå»ç”³è¯·å¦ä¸€ä¸ªé”

**å¾ªç¯ç­‰å¾…**

- çº¿ç¨‹T1ç­‰å¾…çº¿ç¨‹T2å æœ‰çš„èµ„æºï¼Œçº¿ç¨‹T2åˆç­‰å¾…çº¿ç¨‹T1å æœ‰çš„èµ„æºï¼ŒåŒæ–¹æŠ±ç€å¯¹æ–¹éœ€è¦çš„èµ„æºå½¢æˆåƒµæŒ

ã€è§£å†³æ­»é”çš„æ€è·¯ã€‘ï¼šç ´åå‚ç”Ÿæ¡ä»¶çš„ä»»æ„ä¸€ä¸ª

**ã€æ­»é”åœºæ™¯æ¨¡æ‹Ÿã€‘**

é¡¾å®¢åœ¨çº¿è´­ç‰©ï¼Œæœ‰è´§åˆ°ä»˜æ¬¾å’Œä»˜æ¬¾å†å‘è´§ä¸¤ç§æ¨¡å¼ã€‚å•†å®¶å‘è´§ï¼Œé¡¾å®¢å…ˆå‘è´§å†ä»˜æ¬¾æˆ–è€…å…ˆä»˜æ¬¾å†å‘è´§ã€‚

- é¡¾å®¢çš„é€‰æ‹©ä¸º`true`ï¼Œæƒ³è¦è´§åˆ°ä»˜æ¬¾
- å•†å®¶çš„é€‰æ‹©ä¸º`false`ï¼Œæƒ³è¦å…ˆä»˜æ¬¾æ‰å‘è´§

äºŒè€…æ»¡è¶³äº†æ­»é”çš„äº§ç”Ÿæ¡ä»¶ï¼Œå‘ç”Ÿæ­»é”

```java
class Ship { }

class Money { }

class Shopping extends Thread {
    //å‘ç”Ÿæ­»é”çš„åŒå‘å„æŒæœ‰ä¸€ä»½èµ„æºï¼Œstaticä¿è¯åªæœ‰ä¸€ä»½èµ„æº
    static Ship phone = new Ship();
    static Money money = new Money();

    private String person;
    private boolean choice;

    public Shopping(String person, boolean choice) {
        this.person = person;
        this.choice = choice;
    }

    @Override
    public void run() {
        try {
            pay();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }

    //äº’ç›¸æŒæœ‰å¯¹æ–¹çš„é”ï¼Œæƒ³è¦è·å–å¯¹æ–¹çš„èµ„æº
    private void pay() throws InterruptedException {
        if (choice) {
            //è·å¾—å•†å“çš„é”
            synchronized (phone) {
                System.out.println(this.person + "->è·å¾—å•†å“çš„é”");
                Thread.sleep(2000);

                //2såæƒ³è·å¾—é‡‘é’±çš„é”
                synchronized (money) {
                    System.out.println(this.person + "-->>è·å¾—é‡‘é’±çš„é”");
                }
            }
        }else {
            //è·å¾—é‡‘é’±çš„é”
            synchronized (money) {
                System.out.println(this.person + "<<--è·å¾—é‡‘é’±çš„é”");
                Thread.sleep(2000);

                //2såæƒ³è·å¾—å•†å“çš„é”
                synchronized (phone) {
                    System.out.println(this.person + "<-è·å¾—å•†å“çš„é”");
                }
            }
        }
    }
}

public class DeadLock {
    public static void main(String[] args) {
        new Shopping("é¡¾å®¢",true).start();
        new Shopping("å•†å®¶",false).start();
    }
}
```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200528163042631.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)

**ç ´åæ­»é”å æœ‰ä¸”ç­‰å¾…çš„æ¡ä»¶ï¼Œè®©ä¸¤ä¸ªçº¿ç¨‹ä¸å†åŒæ—¶æ‹¿åˆ°å¯¹æ–¹æƒ³è¦çš„é”**
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200528163803290.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200528163200428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)

åœ¨Lockæ¥å£å‡ºç°ä¹‹å‰ï¼Œjavaç¨‹åºä¸»è¦æ˜¯é `synchronized`å…³é”®å­—å®ç°é”åŠŸèƒ½ã€‚è€ŒJDK5ä¹‹åï¼Œå¹¶å‘åŒ…ä¸­å¢åŠ äº†Lockæ¥å£ï¼Œå®ƒæä¾›äº†ä¸synchronizedä¸€æ ·çš„é”åŠŸèƒ½ã€‚è™½ç„¶å®ƒå¤±å»äº†åƒsynchronizeéšå¼åŠ é”è§£é”çš„ä¾¿æ·æ€§(Locké”ä¸ºæ˜¾å¼)ï¼Œä½†æ˜¯å´æ‹¥æœ‰äº†è·å–é”å’Œé‡Šæ”¾é”çš„å¯æ“ä½œæ€§ï¼Œå¯ä¸­æ–­çš„è·å–é”ä»¥åŠè¶…æ—¶è·å–é”ç­‰å¤šç§synchronizedå…³é”®å­—æ‰€ä¸å…·å¤‡çš„åŒæ­¥ç‰¹æ€§ï¼ˆsynchronizedé”æ˜¯äº’æ–¥çš„ï¼‰

-----------

### 2. Lockä½“ç³»

Lock----JDK5 åŸºäºJavaè¯­è¨€å®ç°çš„çº¿ç¨‹é”

**ç‹¬å é”**ï¼šåœ¨ä»»æ„æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰æ­¤é”

**å…±äº«é”**ï¼šåœ¨åŒä¸€æ—¶åˆ»ï¼Œå¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹æ‹¥æœ‰é”ï¼ˆè¯»å†™é”æ˜¯å…±äº«é”çš„ä¸€ç§ï¼Œè¯»é”å…±äº«ï¼Œå†™é”ç‹¬å ï¼‰

**ReentrantLockå¯é‡å…¥é”ï¼š** æŒæœ‰é”çš„çº¿ç¨‹å¯ä»¥å†æ¬¡å¯¹é”çš„è®¡æ•°å™¨`+1`

synchronizedæœ‰å¯é‡å…¥é”
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200528172808560.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)
**Javaä¸­å®ç°çº¿ç¨‹â€œé”â€çš„æ–¹å¼ï¼š**

- synchronized
- Lock

--------

### 3. Lockæ¥å£ä½¿ç”¨

ä¸‹é¢æ¥çœ‹çœ‹Lockæ¥å£ä¸­å®šä¹‰äº†å“ªäº›æ–¹æ³•
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200528172946385.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)

1. `void lock();`    è·å–é”
2. `void lockInterruptibly();`  è·å–é”çš„è¿‡ç¨‹èƒ½å¤Ÿå“åº”ä¸­æ–­
3. ` boolean tryLock();`    éé˜»å¡å¼å“åº”ä¸­æ–­èƒ½ç«‹å³è¿”å›ï¼Œè·å–é”è¿”å›trueåä¹‹ä¸ºfalse
4. ` boolean tryLock(long time,TimeUnit unit);`  è¶…æ—¶è·å–é”ï¼Œåœ¨è¶…æ—¶å†…æˆ–æœªä¸­æ–­çš„æƒ…å†µä¸‹èƒ½è·å–é”
5. `Condition newCondition();`   è·å–ä¸lockç»‘å®šçš„ç­‰å¾…é€šçŸ¥ç»„ä»¶ï¼Œå½“å‰çº¿ç¨‹å¿…é¡»å…ˆè·å¾—äº†é”æ‰èƒ½ç­‰å¾…ï¼Œç­‰å¾…ä¼šé‡Šæ”¾é”ï¼Œå†æ¬¡è·å–åˆ°é”æ‰èƒ½ä»ç­‰å¾…ä¸­è¿”å›

**Locké”çš„ä½¿ç”¨**
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200528173145818.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)

```java
package com.iqqcode.lock;

import java.util.concurrent.locks.Lock;
import java.util.concurrent.locks.ReentrantLock;

/**
 * @Author: Mr.Q
 * @Date: 2020-05-28 16:55
 * @Description:Locké”
 */
class Sync implements Runnable {

    //å®ç°Lockçš„æ¥å£æ¥å®šä¹‰é”
    private Lock ticketsLock = new ReentrantLock();
    private int tickets = 20;

    @Override
    public void run() {
        while(true) {
            //éœ€è¦å¯¹ç¨‹åºä¸Šé”
            try {
                //ç­‰åŒäºsynchronized(this)
                ticketsLock.lock();
                Thread.sleep(200);
                if(this.tickets >= 0) {
                    System.out.println(Thread.currentThread().getName() +
                            "è¿˜æœ‰" + this.tickets-- + "å¼ ç¥¨");
                }else {
                    break;
                }
            } catch (InterruptedException e) {
                e.printStackTrace();
            } finally {
                ticketsLock.unlock();
            }
        }
    }
}

public class LockSync {
    public static void main(String[] args) {
        Sync run = new Sync();
        new Thread(run,"é»„ç‰›A").start();
        new Thread(run,"é»„ç‰›B").start();
        new Thread(run,"é»„ç‰›C").start();
    }
}
```

å¯ä»¥çœ‹å‡º Lock å¯ä»¥å®ç°å’Œ synchronized åŒæ ·çš„åŠŸèƒ½

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200528172405401.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)

------------

### 4. Lockè§£å†³æ­»é”é—®é¢˜

ç ´åä¸å¯æŠ¢å (æ€è·¯)ï¼š

1. å“åº”ä¸­æ–­`lockInterruptibly`
2. æ”¯æŒè¶…æ—¶`boolean tryLock(long time, TimeUnit unit)`
3. éé˜»å¡å¼è·å–é”ï¼Œçº¿ç¨‹è‹¥è·å–ä¸åˆ°é”ï¼Œçº¿ç¨‹ç›´æ¥é€€å‡º`boolean tryLock()`

#### å“åº”ä¸­æ–­lockInterruptibly

```java
import java.util.concurrent.locks.Lock;
import java.util.concurrent.locks.ReentrantLock;

/**
 * @Author: Mr.Q
 * @Date: 2019-08-04 13:18
 * @Description: åœ¨è·å–é”æ—¶èƒ½å¤Ÿå“åº”ä¸­æ–­
 */
class TestLockInterrupt implements Runnable {
    private Lock lock = new ReentrantLock();
    @Override
    public void run() {
        try {
            while (true) {
                lock.lockInterruptibly();
            }
        } catch (InterruptedException e) {
            System.err.println("çº¿ç¨‹"+Thread.currentThread().getName()+" å“åº”ä¸­æ–­....");
            return;
        }finally {
            lock.unlock();
        }
    }
}

public class LockInterrupt {
    public static void main(String[] args) throws InterruptedException {
        TestLockInterrupt testLock = new TestLockInterrupt();
        Thread thread = new Thread(testLock,"Thread Q");
        thread.start();
        Thread.sleep(2000);
        thread.interrupt();
    }
}
```

åœ¨ `while(true) { }`ä¸­å“åº”äº†`thread.interrupt();`
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190805162537489.png)

#### æ”¯æŒè¶…æ—¶tryLock

Lockæ”¯æŒè¶…æ—¶è·å–é”

```java
class ThreadLockTime implements Runnable {
    private Lock lock = new ReentrantLock(); //å®ç° Lockçš„æ¥å£
    @Override
    public void run() {
        fun();
    }

    private void fun() {
        try {
            if(lock.tryLock(1,TimeUnit.SECONDS)) {
                System.out.println(Thread.currentThread().getName() + "è·å–é”æˆåŠŸï¼");
                // sleep 2000ms,çº¿ç¨‹Bè·å–ä¸åˆ°é”
                Thread.sleep(2000);
            }else {
                System.err.println(Thread.currentThread().getName() + "è·å–é”å¤±è´¥...");
            }
        } catch (InterruptedException e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }
}

public class LockTime {
    public static void main(String[] args) {
        ThreadLockTime threadLockTime = new ThreadLockTime();
        new Thread(threadLockTime,"ThreadA").start();
        new Thread(threadLockTime,"ThreadB").start();
    }
}
```

ä»£ç åˆ†æï¼š

`boolean tryLock(long timeout, TimeUnit unit)` 
å¦‚æœåœ¨ç»™å®šçš„ç­‰å¾…æ—¶é—´å†…æ²¡æœ‰è¢«å¦ä¸€ä¸ªçº¿ç¨‹å ç”¨ ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹å°šæœªè¢«ä¿ç•™ï¼Œåˆ™è·å–è¯¥é”interrupted

A,Bçº¿ç¨‹è·å–é”æˆåŠŸæ˜¯éšæœºçš„ï¼Œçœ‹æ“ä½œç³»ç»Ÿçš„è°ƒåº¦. æˆ‘ä»¬ä»¥Açº¿ç¨‹è·å–é”æˆåŠŸä¸ºä¾‹

åœ¨run( )ä¸­è°ƒç”¨fun( ),ç»™å®šçš„ç­‰å¾…æ—¶é—´ä¸º  `if(lock.tryLock(1,TimeUnit.SECONDS))` 1s,çº¿ç¨‹Aå…ˆæ‹¿åˆ°é”ä¹‹åï¼Œçº¿ç¨‹Bæƒ³è¦è·å–é”æ—¶ï¼Œå¿…é¡»å¾—å…ˆsleep 2s;

ä¼‘çœ çš„æ—¶é—´å¤§äºç»™å®šçš„ç­‰å¾…æ—¶é—´ï¼Œæ‰€ä»¥çº¿ç¨‹Bè·å–é”å¤±è´¥äº†ï¼
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190805163843262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIzMjk1NQ==,size_16,color_FFFFFF,t_70)

---------------

### 5. Condition

Conditionï¼šLockä½“ç³»çš„çº¿ç¨‹é€šä¿¡æ–¹å¼ï¼Œç±»æ¯”Objectç±»çš„ waitï¼Œnotifyï¼›å¯ä»¥è¿›ä¸€éƒ¨æé«˜æ•ˆç‡ï¼Œå‡å°‘çº¿ç¨‹é˜»å¡ä¸å”¤é†’å¸¦æ¥çš„å¼€é”€

`await()`:  é‡Šæ”¾Locké”ï¼Œå°†çº¿ç¨‹ç½®å…¥ç­‰å¾…é˜Ÿåˆ—é˜»å¡

`signal()`ï¼š å”¤é†’ä¸€ä¸ªå¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹

`signalAll()`:  å”¤é†’æ‰€æœ‰çº¿ç¨‹

ç±»æ¯” **wait()** å’Œ **notify( ï¼‰**

è·å–ä¸€ä¸ªLocké”çš„Conditioné˜Ÿåˆ—ï¼š

`Lock.newCondition` : æ¯å½“è°ƒç”¨ä¸€æ¬¡ï¼Œå°±äº§ç”Ÿä¸€ä¸ªæ–°çš„Condition

> ä½¿ç”¨è¯¦è§ğŸ‘‰ **ã€Š6.çº¿ç¨‹é—´çš„é€šä¿¡ã€‹**

-------------------------

### 6. å…¬å¹³é”ä¸éå…¬å¹³é”

ã€æºç æŸ¥çœ‹ï¼šReentrantLockã€‘

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200616095524.png)

é»˜è®¤æ— å‚æ„é€ åˆ›å»ºçš„æ˜¯éå…¬å¹³é”ï¼Œä¼ å…¥`true`ä»£è¡¨å®ç°éå…¬å¹³é”ã€‚

**å…¬å¹³é”éå…¬å¹³é”æµ‹è¯•**

```java
class FairUnfair {
    private Lock lock;

    public FairUnfair(boolean isfair) {
        //é»˜è®¤æ— å‚ä¸ºéå…¬å¹³é”
        lock = new ReentrantLock(isfair);
    }

    public void foo() {
        try {
            lock.lock();
            System.out.println(Thread.currentThread().getName() + "è·å¾—é”");
        } finally {
            lock.unlock();
        }
    }
}

class ThreadService extends Thread {
    private FairUnfair service;

    public ThreadService(FairUnfair service) {
        this.service = service;
    }

    @Override
    public void run() {
        service.foo();
    }
}

public class FairUnfairLock {
    public static void main(String[] args) {
        //FairUnfair fu = new FairUnfair(false); //éå…¬å¹³é”
        FairUnfair fu = new FairUnfair(true); //å…¬å¹³é”
        Thread[] threads = new Thread[20];
        //åˆ›å»ºçº¿ç¨‹ç»„æµ‹è¯•
        for (int i = 0; i < threads.length; i++) {
            threads[i] = new ThreadService(fu);
        }
        //å°½é‡åŒæ—¶å¯åŠ¨çº¿ç¨‹ç»„
        for (int i = 0; i < threads.length; i++) {
            threads[i].start();
        }
    }
}


```

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200616103010.png)

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200616104027.png)

> PSï¼šä¸€ä¸ªå¾ˆç„å­¦çš„é—®é¢˜ï¼Œä¸Šé¢çš„æµ‹è¯•ç¨‹åºåœ¨Windowsä¸‹æµ‹è¯•ï¼Œæ„é€ æ–¹æ³•æ— è®ºæ˜¯ä¼ å…¥`true`æˆ–è€…`false`ï¼Œç»“æœéƒ½æ˜¯éå…¬å¹³çš„ï¼ä½†æ˜¯åœ¨Linuxæˆ–è€…mac OSä¸Šåˆ™ç›¸åï¼Œéƒ½æ˜¯å…¬å¹³çš„ã€‚
> 
> æŸ¥èµ„æ–™æ²¡æ‰¾åˆ°å…·ä½“çš„è¯´æ˜ï¼Œæˆ‘çŒœæµ‹å¯èƒ½æ˜¯ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œè°ƒåº¦çº¿ç¨‹çš„æ–¹å¼ä¸åŒå§ï¼Œæ‰å¯¼è‡´å‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚

--------------

### 7. ä½¿ç”¨synchronizedè¿˜æ˜¯Lock

1. Lockæ˜¯æ˜¾ç¤ºé”ï¼Œæ‰‹åŠ¨å…³é—­ï¼Œæ‰‹åŠ¨å¼€å¯ï¼›synchronizedæ˜¯éšå¼é”ï¼Œå‡ºäº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾

2. Lockåªèƒ½ä½œç”¨åŸŸä»£ç å—ï¼Œè€Œsynchronizedå¯ä»¥ä½œç”¨åŸŸä»£ç å—å’Œæ–¹æ³•ä¸Š

3. ä½¿ç”ªLocké”JVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å¥½ï¼Œå¹¶ä¸”å…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ï¼ˆæä¾›æ›´å¤šçš„å­ç±»ï¼‰

4. è‹¥æ— ç‰¹æ®Šçš„åº”ç”¨åœºæ™¯ï¼Œæ¨èä½¿ç”¨ **synchronized**,å…¶ä½¿ç”¨æ–¹ä¾¿(éšå¼çš„åŠ å‡é”)ï¼Œå¹¶ä¸”ç”±äº synchronizedæ˜¯ JVMå±‚é¢çš„å®ç°ï¼Œåœ¨ä¹‹åçš„ JDKè¿˜æœ‰ä¼˜åŒ–

5. è‹¥è¦ä½¿ç”¨ **å…¬å¹³é”ï¼Œè¯»å†™é”ï¼Œè¶…æ—¶é”**ç­‰ç‰¹æ®Šåœºæ™¯ï¼Œæ‰ä¼šè€ƒè™‘ä½¿ç”¨ Lock

6. Synchronizedæ˜¯å¯é‡å…¥é”ï¼Œä¸å¯ä»¥ä¸­æ–­çš„ï¼Œéå…¬å¹³ï¼›Lockæ˜¯å¯é‡å…¥é”ï¼Œå¯ä»¥åˆ¤æ–­é”ï¼Œéå…¬å¹³ï¼ˆå¯è®¾ç½®ï¼‰