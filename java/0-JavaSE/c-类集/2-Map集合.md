## 1. Mapé›†æ¦‚è¿°

**Mapé›†åˆçš„ç‰¹ç‚¹ï¼š**

1. Mapé›†åˆæ˜¯ä¸€ä¸ªåŒåˆ—é›†åˆï¼Œä¸€ä¸ªå…ƒç´ åŒ…å«ä¸¤ä¸ªå€¼ï¼ˆ`key`å’Œ`value`ï¼‰

2. `key`å’Œ`value`çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¸åŒ

3. `key`æ˜¯ä¸å…è®¸é‡å¤çš„ï¼ˆå”¯ä¸€æ€§ï¼‰ï¼Œ`value`å¯ä»¥é‡å¤

4. `key`å’Œ`value`ä¸€ä¸€å¯¹åº”ï¼Œä¸€ä¸ªkeyåªèƒ½å¯¹åº”ä¸€ä¸ªvalue

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525154022.png)

ã€Mapé›†åˆå¸¸ç”¨æ–¹æ³•ã€‘

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525084656.png)

## 2. HashMap

HashMapåº•å±‚çš„å®ç°é‡‡ç”¨äº†å“ˆå¸Œè¡¨ï¼Œå“ˆå¸Œè¡¨çš„å®ç°ï¼š

- JDK 1.8ä¹‹å‰ï¼šæ•°ç»„ + å•å‘é“¾è¡¨

- JDK 1.8ä¹‹åï¼šæ•°ç»„ + å•å‘é“¾è¡¨ / çº¢é»‘æ ‘ï¼ˆé“¾è¡¨çš„é•¿åº¦è¶…è¿‡8ï¼‰

`Node<K,V>[] table`å°±æ˜¯HashMapæ ¸å¿ƒçš„æ•°æ®ç»“æ„ï¼Œä¹Ÿç§°ä¹‹ä¸ºâ€œä½æ¡¶æ•°ç»„â€ã€‚

HashMapé›†åˆæ˜¯ä¸€ä¸ªæ— åºçš„é›†åˆï¼Œä¸ä¿è¯æ˜ å°„çš„é¡ºåºï¼Œå­˜å‚¨å…ƒç´ å’Œå–å‡ºå…ƒç´ çš„é¡ºåºæœ‰å¯èƒ½ä¸ä¸€è‡´ã€‚

### HashMapåŸç†æ¢ç©¶

HashMapå†…éƒ¨èŠ‚ç‚¹

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531090151.png)

ä¸€ä¸ªèŠ‚ç‚¹ç±»å­˜å‚¨äº†ï¼š

- `hasn`ï¼šé”®å¯¹è±¡çš„å“ˆå¸Œå€¼

- `key`ï¼šé”®

- `value`ï¼šå€¼

- `next`ï¼šä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®

æ¯ä¸€ä¸ªNodeå¯¹è±¡å°±æ˜¯å°±æ˜¯ä¸€ä¸ªå•é“¾è¡¨ç»“æ„

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531091255.png)

ç„¶åï¼Œæˆ‘ä»¬æ˜ å°„å‡º`Node<K,V>[]`æ•°ç»„çš„ç»“æ„ï¼ˆHashMapçš„ç»“æ„ï¼‰ï¼š

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531093153.png)

å…¶å®å°±æ˜¯åœ¨æ•°ç»„ä¸­å­˜æ”¾ä¸€ä¸ªé“¾è¡¨ã€‚é‚£æ•°ç»„ä¸­æ˜¯æ€ä¹ˆå­˜æ”¾çš„é“¾è¡¨å‘¢ï¼Ÿ`hash`åˆæ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿ

æ€ä¹ˆèƒ½é€šè¿‡`key`æ¥æ‰¾åˆ°å¯¹åº”çš„`value`å‘¢ï¼Ÿ

æˆ‘ä»¬æ¥ç€æ¥æ¢è®¨ã€‚

#### å­˜å‚¨æ•°æ®çš„è¿‡ç¨‹

æˆ‘ä»¬çš„ç›®çš„æ˜¯å°†`key-value`ä¸¤ä¸ªå¯¹è±¡**æˆå¯¹**å­˜æ”¾åˆ° HashMapçš„Nodeæ•°ç»„ä¸­ã€‚**æ ¸å¿ƒå°±æ˜¯äº§ç”Ÿhashå€¼ï¼Œè¯¥å€¼ç”¨æ¥å¯¹åº”æ•°ç»„çš„å­˜å‚¨ä½ç½®**

```java
put(1,"test");
```

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531101145.png)

**ç¬¬ä¸€æ­¥ï¼šè·å–Keyå¯¹è±¡çš„hashCode**

è°ƒç”¨keyå¯¹è±¡çš„`hashCode`æ–¹æ³•ï¼Œè·å¾—å“ˆå¸Œç 

> hashCodeæ˜¯Objectç±»ä¸­çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä»»ä½•ç±»å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨

**ç¬¬äºŒæ­¥ï¼šè®¡ç®—hsahå€¼**

æ ¹æ®hashCodeè®¡ç®—å‡º`hash`å€¼ï¼ˆè¦æ±‚åœ¨ [0 ï¼Œ æ•°ç»„é•¿åº¦-1] ä¹‹é—´ï¼‰

hashCodeæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒè½¬åŒ–æˆ [0 ï¼Œ æ•°ç»„é•¿åº¦-1] çš„èŒƒå›´ã€‚æˆ‘ä»¬è¦æ±‚è½¬åŒ–åçš„hashå€¼å°½é‡å‡åŒ€åœ°åˆ†å¸ƒåœ¨ [0 ï¼Œ æ•°ç»„é•¿åº¦-1] è¿™ä¸ªåŒºé—´ï¼Œå‡å°‘**hashå†²çª**

> hash(å“ˆå¸Œ)å†²çªï¼šä¸åŒçš„hashCodeè½¬æ¢ä¸ºhashå€¼æ—¶è®¡ç®—å‡ºçš„ç»“æœç›¸åŒ

**ã€hashå€¼çš„è®¡ç®—ã€‘**

I. æç«¯æƒ…å†µ

```java
hash =  hashCode / hashCode;
```

hashå€¼æ€»æ˜¯1ã€‚æ„å‘³ç€ï¼Œé”®å€¼å¯¹å¯¹è±¡éƒ½ä¼šå­˜å‚¨åˆ°æ•°ç»„ç´¢å¼•`1`ä½ç½®ï¼Œè¿™æ ·å°±å½¢æˆä¸€ä¸ªéå¸¸é•¿çš„é“¾è¡¨ã€‚ç›¸å½“äºæ¯å­˜å‚¨ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šå‘ç”Ÿâ€œhashå†²çªâ€ï¼Œ HashMapä¹Ÿé€€åŒ–æˆäº†ä¸€ä¸ªâ€œé“¾è¡¨â€ã€‚

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531114308.png)

hashå€¼éƒ½ä¸ç›¸åŒï¼Œé€€åŒ–ä¸ºé•¿åº¦ä¸ºNçš„æ•°ç»„ã€‚æ­¤æ—¶hashæˆä¸ºäº†æ•°ç»„ä¸‹æ ‡

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531114706.png)

**æ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»é‡‡ç”¨æŠ˜ä¸­çš„ç®—æ³•ï¼Œè®©æ•°ç»„çš„å®¹é‡ä¸èƒ½å¤ªå¤§ï¼Œè®©é“¾è¡¨çš„é•¿åº¦ä¸èƒ½å¤ªé•¿ã€‚è®©å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­çš„æ•°æ®å°½é‡æ•£å¼€å‡åŒ€åˆ†å¸ƒï¼Œæé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚**

â€”ç§ç®€å•å’Œå¸¸ç”¨çš„ç®—æ³•æ˜¯**ç›¸é™¤å–ä½™ç®—æ³•**

```java
hashå€¼ = hashCode % æ•°ç»„é•¿åº¦;
```

è¿™ç§ç®—æ³•å¯ä»¥è®©hashå€¼å‡åŒ€çš„åˆ†å¸ƒåœ¨ [0 ï¼Œ æ•°ç»„é•¿åº¦-1] çš„åŒºé—´ã€‚æ—©æœŸçš„Hashtableå°±æ˜¯é‡‡ç”¨è¿™ç§ç®—æ³•ã€‚ä½†æ˜¯ï¼Œè¿™ç§ç®—æ³•ç”±äºä½¿ç”¨äº†â€œé™¤æ³•â€³ï¼Œæ•ˆç‡ä½ä¸‹ã€‚

JDKåæ¥æ”¹è¿›äº†ç®—æ³•ã€‚é¦–å…ˆçº¦å®šæ•°ç»„é•¿åº¦å¿…é¡»ä¸º2çš„æ•´æ•°å¹‚ï¼Œè¿™æ ·é‡‡ç”¨ä½è¿ç®—å¯å®ç°å–ä½™çš„æ•ˆæœï¼š

```java
hashå€¼ = hashCode &(æ•°ç»„é•¿åº¦ - 1);
```

**ç¬¬ä¸‰æ­¥ï¼šç”ŸæˆNodeå¯¹è±¡**

ä¸€ä¸ªNodeå¯¹è±¡åŒ…å«4éƒ¨åˆ†ï¼škeyå¯¹è±¡ã€ valueå¯¹è±¡ã€hashå€¼ã€æŒ‡å‘ä¸‹ä¸€ä¸ªNodeå¯¹è±¡çš„å¼•ç”¨ã€‚

æˆ‘ä»¬ç°åœ¨ç®—å‡ºäº†hashå€¼ï¼Œä¸‹ä¸€ä¸ª Entryå¯¹è±¡çš„å¼•ç”¨ä¸ºnull

**ç¬¬å››æ­¥ï¼šå°†Nodeå¯¹è±¡æ”¾åˆ°tableæ•°ç»„ä¸­**

- å¦‚æœæœ¬Nodeå¯¹è±¡å¯¹åº”çš„æ•°ç»„ç´¢å¼•ä½ç½®è¿˜æ²¡æœ‰æ”¾Nodeå¯¹è±¡ï¼Œåˆ™ç›´æ¥å°†Nodeå¯¹è±¡å­˜å‚¨è¿›æ•°ç»„ï¼›

- å¦‚æœå¯¹åº”ç´¢å¼•ä½ç½®å·²ç»æœ‰Nodeå¯¹è±¡ï¼Œåˆ™å°†å·²æœ‰Nodeå¯¹è±¡çš„nextæŒ‡å‘æœ¬Nodeå¯¹è±¡ï¼Œå½¢æˆé“¾è¡¨

**æ€»ç»“ï¼š**

å½“æ·»åŠ ä¸€ä¸ªå…ƒç´ `key-value`æ—¶ï¼Œé¦–å…ˆè®¡ç®—`key`çš„hashå€¼ï¼Œä»¥æ­¤ç¡®å®šæ’å…¥æ•°ç»„ä¸­çš„ä½ç½®ã€‚ä½†æ˜¯å¯èƒ½å­˜åœ¨åŒhashå€¼çš„å…ƒç´ å·²ç»è¢«æ”¾åœ¨æ•°ç»„åŒä¸€ä½ç½®äº†ï¼Œè¿™æ—¶å°±æ·»åŠ åˆ°åŒä¸€hashå€¼çš„å…ƒç´ çš„åé¢ï¼Œä»–ä»¬åœ¨æ•°ç»„çš„åŒä¸€ä½ç½®ï¼Œå°±å½¢æˆäº†é“¾è¡¨ã€‚

åŒä¸€ä¸ªé“¾è¡¨ä¸Šçš„hashå€¼æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥è¯´æ•°ç»„å­˜æ”¾çš„æ˜¯é“¾è¡¨ã€‚

JDK8åŠä¹‹åï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äº8æ—¶ï¼Œé“¾è¡¨å°±è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œè¿™æ ·åˆå¤§å¤§æé«˜äº†æŸ¥æ‰¾çš„æ•ˆç‡

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200524222943.png)

-----------------------

#### å–å‡ºæ•°æ®çš„è¿‡ç¨‹

```java
get(1); //test
```

æˆ‘ä»¬éœ€è¦é€šè¿‡keyå¯¹è±¡è·å¾—â€œé”®å€¼å¯¹â€å¯¹è±¡ï¼Œè¿›è€Œè¿”å›valueå¯¹è±¡ã€‚æ˜ç™½äº†å­˜å‚¨æ•°æ®è¿‡ç¨‹ï¼Œå–æ•°æ®å°±æ¯”è¾ƒç®€å•äº†ï¼Œå‚è§ä»¥ä¸‹æ­¥éª¤ï¼š

**ç¬¬ä¸€æ­¥ï¼šè·å–Keyå¯¹è±¡çš„hashCode**

åŒå­˜å‚¨æ•°æ®ä¸€æ ·ï¼Œè·å–æ•°æ®ä¹Ÿè¦å…ˆè®¡ç®—hashå€¼ã€‚è·å¾—keyçš„hashcodeï¼Œé€šè¿‡Hashæ•£åˆ—ç®—æ³•å¾—åˆ°hashå€¼ï¼Œè¿›è€Œå®šä½åˆ°æ•°ç»„çš„ä½ç½®

**ç¬¬äºŒæ­¥ï¼šéå†é“¾è¡¨/çº¢é»‘æ ‘**

éå†ç›¸åŒhashçš„é“¾è¡¨ï¼Œåœ¨é“¾è¡¨ä¸ŠæŒ¨ä¸ªæ¯”è¾ƒKeyå¯¹è±¡ã€‚è°ƒç”¨`equals`æ–¹æ³•ï¼Œå°†Keyå¯¹è±¡å’Œé“¾è¡¨ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„Keyå¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°ç¢°åˆ°è¿”å›trueçš„èŠ‚ç‚¹å¯¹è±¡ä¸ºæ­¢ã€‚

- å…ˆè®¡ç®—hashå€¼å®šä½åˆ°å­˜å‚¨æ•°æ®çš„é“¾è¡¨

- éå†é“¾è¡¨ï¼Œé€šè¿‡`equaks`æ¥ç¡®å®šKeyå¯¹è±¡ï¼ŒæŸ¥æ‰¾åˆ°é“¾è¡¨ä¸Šå¯¹åº”çš„èŠ‚ç‚¹

- è¿”å›è¯¥èŠ‚ç‚¹çš„`Value`å€¼

**ã€hashCodeå’Œequalsæ–¹æ³•çš„å…³ç³»ã€‘**

- equalsç›¸åŒï¼ŒhashCodeä¸€å®šç›¸åŒï¼Œhashå€¼ä¸€å®šç›¸åŒï¼›ï¼ˆåœ¨åŒä¸€ä¸ªé“¾è¡¨ä¸Šï¼‰

- hashCodeç›¸åŒï¼Œequalsä¸ä¸€å®šç›¸åŒï¼›ï¼ˆhashå†²çªï¼‰

**æ€»ç»“**

ä¸ç®¡æ˜¯å­˜å‚¨æ•°æ®è¿˜æ˜¯å–å‡ºæ•°æ®ï¼Œéƒ½å¿…é¡»å…ˆè®¡ç®—hashå€¼ï¼Œæ ¹æ®å“ˆå¸Œå€¼æ¥ç¡®å®šæ•°æ®åœ¨Node[]æ•°ç»„ä¸Šå­˜æ”¾/å–å‡ºçš„ä½ç½®

#### æ‰©å®¹é—®é¢˜

HashMapçš„ä½æ¡¶æ•°ç»„ï¼Œåˆå§‹å¤§å°ä¸º16ã€‚å®é™…ä½¿ç”¨æ—¶ï¼Œæ˜¾ç„¶å¤§å°æ˜¯å¯å˜çš„ã€‚å¦‚æœä½æ¡¶æ•°ç»„ä¸­çš„å…ƒç´ è¾¾åˆ°`0.75 * æ•°ç»„length`ï¼Œå°±é‡æ–°è°ƒæ•´æ•°ç»„å¤§å°å˜ä¸ºåŸæ¥çš„2å€å¤§å°ã€‚

- 16ä¸ºåˆå§‹å®¹é‡
- 0.75ä¸ºåŠ è½½å› å­

HashMap æ€»æ˜¯ä½¿ç”¨2çš„å¹‚ä½œä¸ºå“ˆå¸Œè¡¨çš„å¤§å°ï¼Œ`tableSize`æ–¹æ³•ä¿è¯äº† HashMap æ€»æ˜¯ä½¿ç”¨2çš„å¹‚ä½œä¸ºå“ˆå¸Œè¡¨çš„å¤§å°ï¼š

```java
    /**
     * Returns a power of two size for the given target capacity.
     */
    static final int tableSizeFor(int cap) {
        int n = cap - 1;
        n |= n >>> 1;
        n |= n >>> 2;
        n |= n >>> 4;
        n |= n >>> 8;
        n |= n >>> 16;
        return (n < 0) ? 1 : (n >= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;
    }

```

æ‰©å®¹å¾ˆè€—æ—¶ï¼Œæ‰©å®¹çš„æœ¬è´¨æ˜¯å®šä¹‰æ–°çš„æ›´å¤§çš„æ•°ç»„ï¼Œå¹¶å°†åŸæ•°ç»„å†…å®¹æ‹·è´åˆ°æ–°æ•°ç»„ä¸­ã€‚

--------------------------------------------

### LinkedHashMap

ç»§æ‰¿è‡ªHashMapï¼Œåº•å±‚é‡‡ç”¨æ•°ç»„ + é“¾è¡¨/çº¢é»‘æ ‘ + é“¾è¡¨å®ç°ï¼Œä¸€ä¸ªé“¾è¡¨è®°å½•å…ƒç´ çš„é¡ºåºã€‚æ‰€ä»¥åŒLinkedHashSetç±»ä¼¼ï¼ŒLinkedHashMapçš„è¿­ä»£é¡ºåºæ˜¯æœ‰åºçš„ã€‚

## 3. TreeMap

TreeMapåº•å±‚æ˜¯çº¢é»‘æ ‘ï¼Œèƒ½å¤Ÿå®ç°è¯¥Mapé›†åˆæœ‰åºã€‚

åœ¨æºç ä¸­rootç”¨æ¥å­˜å‚¨æ•´ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹ï¼ŒEntryæ˜¯TreeMapçš„èŠ‚ç‚¹ç±»ï¼š

```java
private transient Entry<K,V> root;
```

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531141957.png)

å¯ä»¥çœ‹åˆ°é‡Œé¢å­˜å‚¨äº†æœ¬èº«æ•°æ®ã€å·¦èŠ‚ç‚¹ã€å³èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€ä»¥åŠèŠ‚ç‚¹é¢œè‰²ã€‚TreeMapçš„put / removeæ–¹æ³•å¤§é‡ä½¿ç”¨äº†çº¢é»‘æ ‘çš„ç†è®ºã€‚

TreeMapå’ŒHashMapå®ç°äº†åŒæ ·çš„æ¥å£Mapï¼Œå› æ­¤ï¼Œç”¨æ³•å¯¹äºè°ƒç”¨è€…æ¥è¯´æ²¡æœ‰åŒºåˆ«

- HashMapæ•ˆç‡é«˜äºTreeMap

- åœ¨éœ€è¦æ’åºçš„Mapæ—¶æ‰é€‰ç”¨ TreeMap

#### TreeMapå…ƒç´ çš„æ’åº

TreeMapæœ‰åºæ˜¯é€šè¿‡Comparatoræ¥è¿›è¡Œæ¯”è¾ƒçš„

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200531143132.png)

> key: 202001   value: å¼ ä¸‰
> key: 202007   value: ç‹äº”
> key: 202020   value: æå››
> key: 202133   value: èµµå…­

åœ¨è‡ªå®šä¹‰ç±»å¯¹è±¡è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œè¦é‡æ–°è¦†å†™`compareTo`æ–¹æ³•

```java
class Person implements Comparable<Person>{
    int id;
    String name;
    int age;

    public Person(int id, String name, int age) {
        this.id = id;
        this.name = name;
        this.age = age;
    }

    @Override
    public String toString() {
        return "Person{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", age=" + age +
                '}';
    }

    @Override
    public int compareTo(Person o) {
        if (this.age > o.age) {
            return 1;
        }else if (this.age < o.age) {
            return -1;
        }else {
            //å¹´é¾„ç›¸åŒæŒ‰ç…§idæ¯”è¾ƒ
            if (this.id > o.id) {
                return 1;
            }else if (this.id < o.id) {
                return -1;
            }else {
                return 0;
            }
        }
    }
}
public class ObjCompare {
    public static void main(String[] args) {
        Map<Person,String> treemap = new TreeMap<>();
        treemap.put(new Person(1001,"å¼ ä¸‰",18),"2020-01");
        treemap.put(new Person(1002,"æå››",20),"2020-02");
        treemap.put(new Person(1003,"ç‹äº”",18),"2020-03");
        for (Person per : treemap.keySet()) {
            String value = treemap.get(per);
            System.out.println("key: " + per + "   value: " + value);
        }
    }
}
```

> key: Person{id=1001, name='å¼ ä¸‰', age=18}   value: 2020-01
> key: Person{id=1003, name='ç‹äº”', age=18}   value: 2020-03
> key: Person{id=1002, name='æå››', age=20}   value: 2020-02

## 4. Hashtable

`java.util.Hashtable<K,V>`é›†åˆå®ç°äº†æ¥å£

- Hashtableï¼šåº•å±‚ä¹Ÿæ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œæ˜¯ä¸€ä¸ª**çº¿ç¨‹å®‰å…¨**çš„é›†åˆï¼Œæ˜¯å•çº¿ç¨‹é›†åˆï¼Œé€Ÿåº¦æ…¢

- HashMapï¼šåº•å±‚æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œæ˜¯ä¸€ä¸ª**çº¿ç¨‹ä¸å®‰å…¨**çš„é›†åˆï¼Œæ˜¯å¤šçº¿ç¨‹çš„é›†åˆï¼Œé€Ÿåº¦å¿«

- HashMapé›†åˆï¼šå¯ä»¥å­˜å‚¨null`key`ï¼ˆåªå…è®¸æœ‰ä¸€ä¸ªï¼‰ï¼Œå¯ä»¥å­˜å‚¨null`value`

- Hashtableé›†åˆï¼Œä¸èƒ½å­˜å‚¨null`key`ï¼Œä¸èƒ½å­˜å‚¨null`value`

- hashçš„è®¡ç®—æ–¹å¼ä¸åŒã€‚HashMapè®¡ç®—äº†hashå€¼ï¼›Hashtableä½¿ç”¨äº†keyçš„hashCodeæ–¹æ³•ã€‚

- é»˜è®¤åˆå§‹å¤§å°å’Œæ‰©å®¹æ–¹å¼ä¸åŒã€‚HashMapé»˜è®¤åˆå§‹å¤§å°16ï¼Œå®¹é‡å¿…é¡»æ˜¯2çš„æ•´æ•°æ¬¡å¹‚ï¼Œæ‰©å®¹æ—¶å°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€ï¼›Hashtableé»˜è®¤åˆå§‹å¤§å°11ï¼Œæ‰©å®¹æ—¶å°†å®¹é‡å˜ä¸ºåŸæ¥çš„2å€åŠ 1ã€‚

> Hashtableå’Œ Vectoré›†åˆä¸€æ ·ï¼Œåœ¨jdk1.2ç‰ˆæœ¬ä¹‹åè¢«æ›´å…ˆè¿›çš„é›†åˆï¼ˆ HashMapï¼Œ ArrayListï¼‰å–ä»£äº†ã€‚Hashtableçš„å­ç±» Propertiesä½¿ç”¨é¢‘ç¹ï¼ŒPropertiesé›†åˆæ˜¯ä¸€ä¸ªå”¯ä¸€å’ŒIOæµç›¸ç»“åˆçš„é›†åˆ 

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525112147.png)

## 5. Mapé›†åˆçš„éå†

**ã€æ–¹å¼ä¸€ã€‘é€šè¿‡map.keySet()è·å–keyï¼Œé€šè¿‡keyæ‰¾åˆ°value**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525110552.png)

**ã€æ–¹å¼äºŒã€‘é€šè¿‡Map.Entry(String,String)è·å–ï¼Œç„¶åä½¿ç”¨entry.getKey()è·å–åˆ°é”®ï¼Œé€šè¿‡entry.getValue()è·å–åˆ°å€¼**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525111456.png)

**ã€æ–¹å¼ä¸‰ã€‘å…ˆæ”¾å…¥Seté›†åˆä¸­ï¼ŒIteratoréå†è·å–**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525111943.png)

**ã€æ–¹å¼å››ã€‘åªéå†é”®æˆ–è€…å€¼ï¼Œé€šè¿‡åŠ å¼ºforå¾ªç¯**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525112035.png)

----------------------------------------------------------------------------------

**è®¡ç®—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°**

è§£é¢˜æ€è·¯ï¼š

1. ä½¿ç”¨ Scannerè·å–ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²  

2. åˆ›å»ºMapé›†åˆï¼Œkeyæ˜¯å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œ valueæ˜¯å­—ç¬¦çš„ä¸ªæ•°  

3. éå†å­—ç¬¦ä¸²è·å–æ¯ä¸€ä¸ªå­—ç¬¦  

4. ä½¿ç”¨è·å–åˆ°çš„å­—ç¬¦ï¼Œå»Mapé›†åˆåˆ¤æ–­keyæ˜¯å¦å­˜åœ¨  
   
    - keyå­˜åœ¨ï¼š  
      
       - é€šè¿‡å­—ç¬¦ï¼ˆkeyï¼‰ï¼Œè·å–vaueï¼ˆå­—ç¬¦ä¸ªæ•°ï¼‰  
       
       - value++  
       
       - putï¼ˆkey, valueï¼‰æŠŠæ–°çš„ valueå­˜å‚¨åˆ°Mapé›†åˆä¸­  
      
    - keyä¸å­˜åœ¨ï¼š  
      
       - putï¼ˆkey, 1ï¼‰  

5. éå†Mapé›†åˆï¼Œè¾“å‡ºç»“æœ

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img/20200525114532.png)



## 6. è¡¨æ ¼æ•°æ®å­˜å‚¨

> ä½¿ç”¨å®¹å™¨æ¥å­˜å‚¨è¡¨æ ¼æ•°æ®

### ä½¿ç”¨Listå’ŒMap

| ID   | å§“å  | å¹´é¾„  | æ¯•ä¸šæ—¥æœŸ    |
| ---- | --- | --- | ------- |
| 1001 | å¼ ä¸‰  | 18  | 2020-09 |
| 1002 | æå››  | 20  | 2021-07 |
| 1003 | ç‹äº”  | 22  | 2017-07 |

- æ¯ä¸€è¡Œä½¿ç”¨ä¸€ä¸ªMap

- æ•´ä¸ªè¡¨æ ¼ä½¿ç”¨List

```java
public class ListMapTable {
    public static void main(String[] args) {
        Map<String,Object> map1 = new HashMap<>();
        map1.put("ID",1001);
        map1.put("å§“å","å¼ ä¸‰");
        map1.put("å¹´é¾„",18);
        map1.put("æ¯•ä¸šæ—¥æœŸ","2020-09");

        Map<String,Object> map2 = new HashMap<>();
        map2.put("ID",1002);
        map2.put("å§“å","æå››");
        map2.put("å¹´é¾„",20);
        map2.put("æ¯•ä¸šæ—¥æœŸ","2021-07");

        Map<String,Object> map3 = new HashMap<>();
        map3.put("ID",1003);
        map3.put("å§“å","ç‹äº”");
        map3.put("å¹´é¾„",22);
        map3.put("æ¯•ä¸šæ—¥æœŸ","2017-07");

        List<Map<String,Object>> table = new ArrayList<> ();
        table.add(map1);
        table.add(map2);
        table.add(map3);

        for (Map<String, Object> row : table) {
            //å°†æ¯è¡Œçš„å†…å®¹æ”¾å…¥åˆ°Setä¸­
            Set <String> keyset= row.keySet();
            for (String key : keyset) {
                System.out.print(key+": " + row.get(key) + "\t");
            }
            System.out.println();
        }
    }
}

```

> å§“å: å¼ ä¸‰    æ¯•ä¸šæ—¥æœŸ: 2020-09    ID: 1001    å¹´é¾„: 18    
> å§“å: æå››    æ¯•ä¸šæ—¥æœŸ: 2021-07    ID: 1002    å¹´é¾„: 20    
> å§“å: ç‹äº”    æ¯•ä¸šæ—¥æœŸ: 2017-07    ID: 1003    å¹´é¾„: 22    

å¦‚æœæƒ³è¦åˆ—çš„ä¿¡æ¯å’Œä¸Šé¢è¡¨æ ¼çš„é¡ºåºä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨`LinkedHashMap`æ¥ä¿è¯æœ‰åº



### JavaBeanå¯¹è±¡

å¯¹JavaBeanä¸å¤ªäº†è§£çš„ä¼™ä¼´å…ˆäº†è§£ä¸€ä¸‹

ğŸ‘‰[JavaBeanã€Spring Beanå¯¹è±¡çš„ç†è§£](https://blog.csdn.net/weixin_43232955/article/details/105755021)

- æ¯ä¸€è¡Œä½¿ç”¨JavaBeanå¯¹è±¡

- æ•´å¼ è¡¨æ ¼ä½¿ç”¨Map/List

```java
public static void main(String[] args) {
    Student stu1 = new Student(1001,"å¼ ä¸‰",18,"2020-09");
    Student stu2 = new Student(1002,"æå››",20,"2021-07");
    Student stu3 = new Student(1003,"ç‹äº”",22,"2017-07");
    List<Student> list = new ArrayList<> ();
    list.add(stu1);
    list.add(stu2);
    list.add(stu3);
    for (Student stu : list) {
        System.out.println(stu);
    }
    System.out.println("\n" +"-----------------------------" + "\n");
    Map<Integer,Student> map = new HashMap<> ();
    map.put(1001,stu1);
    map.put(1002,stu2);
    map.put(1003,stu3);
    Set<Integer> keys = map.keySet();
    for (Integer key : keys) {
        System.out.println(map.get(key));
    }
}
```

> Student{id=1001,  name='å¼ ä¸‰',  age=18,  graduation=2020-09}
> Student{id=1002,  name='æå››',  age=20,  graduation=2021-07}
> Student{id=1003,  name='ç‹äº”',  age=22,  graduation=2017-07}
