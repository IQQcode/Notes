## 1. ä»€ä¹ˆæ˜¯åŠ¨æ€è§„åˆ’

### æ•°å­¦å½’çº³æ³•

**æ•°å­¦å½’çº³æ³•çš„åŸç†**
ä¸€èˆ¬åœ°ï¼Œè¯æ˜ä¸€ä¸ªä¸æ­£æ•´æ•°`n`æœ‰å…³çš„å‘½é¢˜ï¼Œå¯æŒ‰ä¸‹åˆ—æ­¥éª¤è¿›è¡Œï¼š

1. ï¼ˆå½’çº³å¥ åŸºï¼‰è¯æ˜å½“`n`å–ç¬¬ä¸€ä¸ªå€¼ `n0` æ—¶å‘½é¢˜æˆç«‹ï¼›

2. ï¼ˆå½’çº³é€’æ¨ï¼‰å‡è®¾ `n = k ( k >= n0ï¼Œk âˆˆ n ) `æ—¶å‘½é¢˜æˆç«‹ï¼Œè¯æ˜å½“ `n = k+1`æ—¶å‘½é¢˜ä¹Ÿæˆç«‹

åªè¦å®Œæˆè¿™ä¸¤ä¸ªæ­¥éª¤ï¼Œå°±å¯ä»¥æ–­å®šå‘½é¢˜å¯¹ä»`n0`å¼€å§‹çš„æ‰€æœ‰æ­£æ•´æ•°`n`éƒ½æˆç«‹ã€‚

ä¸Šè¿°è¯æ˜æ–¹æ³•å«åš**æ•°å­¦å½’çº³æ³•**

**ã€æ³¨æ„ã€‘**

**è¿™ä¸¤æ­¥æ­¥éª¤ç¼ºä¸€ä¸å¯ã€‚**

**ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜å‘½é¢˜æ—¶ï¼Œéš¾ç‚¹å’Œå…³é”®éƒ½åœ¨ç¬¬äºŒæ­¥ï¼Œè€Œåœ¨è¿™ä¸€æ­¥ä¸»è¦åœ¨äºåˆç†è¿ç”¨å½’
çº³å‡è®¾ï¼Œç»“åˆå·²çŸ¥æ¡ä»¶å’Œå…¶ä»–æ•°å­¦çŸ¥è¯†ï¼Œè¯æ˜â€œå½“ `n=k+1` æ—¶å‘½é¢˜æˆç«‹â€ã€‚**

æ•°å­¦å½’çº³æ³•å¯è¯æ˜æœ‰å…³çš„æ­£æ•´æ•°é—®é¢˜ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ­£æ•´æ•°é—®é¢˜éƒ½ç”¨æ•°å­¦å½’çº³æ³•è¯
æ˜ï¼Œå­¦ä¹ æ—¶è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚

### åŠ¨æ€è§„åˆ’

åŠ¨æ€è§„åˆ’çš„æ€ç»´å’Œæ•°å­¦å½’çº³æ³•å¾ˆç±»ä¼¼ï¼Œéƒ½æ˜¯ç©·ä¸¾å‡ºæ‰€æœ‰å¯èƒ½ã€‚**åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒç‚¹å°±æ˜¯æ•°å­¦å½’çº³æ³•çš„å½’çº³é€’æ¨ï¼Œå³æ‰¾å‡ºä¸€ä¸ªé€šç”¨çš„å¼å­æ¥æ»¡è¶³æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œä»è€Œé€‰å–æœ€ä¼˜è§£**ã€‚

> ğŸ‘‰[åŠ¨æ€è§„åˆ’è¯¦è§£](https://leetcode-cn.com/problems/coin-change/solution/dong-tai-gui-hua-tao-lu-xiang-jie-by-wei-lai-bu-ke/)

<br>

**1. é¦–å…ˆï¼ŒåŠ¨æ€è§„åˆ’é—®é¢˜çš„ä¸€èˆ¬å½¢å¼å°±æ˜¯æ±‚æœ€å€¼**ã€‚åœ¨è®¡ç®—æœºé—®é¢˜ä¸Šåº”ç”¨æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚è¯´è®©ä½ æ±‚<mark>æœ€é•¿</mark>é€’å¢å­åºåˆ—å‘€ï¼Œ<mark>æœ€å°</mark>ç¼–è¾‘è·ç¦»å‘€ç­‰ç­‰

**2. æ±‚è§£åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒé—®é¢˜æ˜¯ç©·ä¸¾**ã€‚

1. é¦–å…ˆï¼ŒåŠ¨æ€è§„åˆ’çš„ç©·ä¸¾æœ‰ç‚¹ç‰¹åˆ«ï¼Œå› ä¸ºè¿™ç±»é—®é¢˜å­˜åœ¨ã€Œé‡å å­é—®é¢˜ã€ï¼Œå¦‚æœæš´åŠ›ç©·ä¸¾çš„è¯æ•ˆç‡ä¼šæå…¶ä½ä¸‹ï¼Œæ‰€ä»¥éœ€è¦ã€Œå¤‡å¿˜å½•ã€æˆ–è€…ã€ŒDP tableã€æ¥ä¼˜åŒ–ç©·ä¸¾è¿‡ç¨‹ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚

2. è€Œä¸”ï¼ŒåŠ¨æ€è§„åˆ’é—®é¢˜ä¸€å®šä¼šå…·å¤‡ã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œæ‰èƒ½é€šè¿‡å­é—®é¢˜çš„æœ€å€¼å¾—åˆ°åŸé—®é¢˜çš„æœ€å€¼ã€‚

3. å¦å¤–ï¼Œè™½ç„¶åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ç©·ä¸¾æ±‚æœ€å€¼ï¼Œä½†æ˜¯é—®é¢˜å¯ä»¥åƒå˜ä¸‡åŒ–ï¼Œç©·ä¸¾æ‰€æœ‰å¯è¡Œè§£å…¶å®å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ï¼Œåªæœ‰åˆ—å‡º**æ­£ç¡®çš„ã€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€** æ‰èƒ½æ­£ç¡®åœ°ç©·ä¸¾ã€‚

ä»¥ä¸Šæåˆ°çš„é‡å å­é—®é¢˜ã€æœ€ä¼˜å­ç»“æ„ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±æ˜¯åŠ¨æ€è§„åˆ’ä¸‰è¦ç´ ã€‚ä½†æ˜¯åœ¨å®é™…çš„ç®—æ³•é—®é¢˜ä¸­ï¼Œå†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯æœ€å›°éš¾çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šæœ‹å‹è§‰å¾—åŠ¨æ€è§„åˆ’é—®é¢˜å›°éš¾çš„åŸå› ï¼Œæˆ‘æ¥æä¾›æˆ‘ç ”ç©¶å‡ºæ¥çš„ä¸€ä¸ªæ€ç»´æ¡†æ¶ï¼Œè¾…åŠ©ä½ æ€è€ƒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

**æ˜ç¡® base case -> æ˜ç¡®ã€ŒçŠ¶æ€ã€-> æ˜ç¡®ã€Œé€‰æ‹©ã€ -> å®šä¹‰ dp æ•°ç»„/å‡½æ•°çš„å«ä¹‰ã€‚**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807125214.png)

æŒ‰ä¸Šé¢çš„å¥—è·¯èµ°ï¼Œæœ€åçš„ç»“æœå°±å¯ä»¥å¥—è¿™ä¸ªæ¡†æ¶ï¼š

```python
# åˆå§‹åŒ– base case
dp[0][0][...] = base

# è¿›è¡ŒçŠ¶æ€è½¬ç§»
for çŠ¶æ€1 in çŠ¶æ€1çš„æ‰€æœ‰å–å€¼
    for çŠ¶æ€2 in çŠ¶æ€2çš„æ‰€æœ‰å–å€¼ï¼š
        for ...
            dp[çŠ¶æ€1][çŠ¶æ€2][...] = æ±‚æœ€å€¼(é€‰æ‹©1ï¼Œé€‰æ‹©2...)
```

- è®¡ç®—æœºè§£å†³é—®é¢˜å…¶å®æ²¡æœ‰ä»»ä½•å¥‡æŠ€æ·«å·§ï¼Œå®ƒ**å”¯ä¸€çš„è§£å†³åŠæ³•å°±æ˜¯ç©·ä¸¾**ï¼Œç©·ä¸¾æ‰€æœ‰å¯èƒ½æ€§ã€‚

- ç®—æ³•è®¾è®¡æ— éå°±æ˜¯**å…ˆæ€è€ƒâ€œå¦‚ä½•ç©·ä¸¾â€**ï¼Œç„¶å**å†è¿½æ±‚â€œå¦‚ä½•èªæ˜åœ°ç©·ä¸¾â€**ã€‚

- **åˆ—å‡ºåŠ¨æ€è½¬ç§»æ–¹ç¨‹ï¼Œå°±æ˜¯åœ¨è§£å†³â€œå¦‚ä½•ç©·ä¸¾â€çš„é—®é¢˜**ã€‚ä¹‹æ‰€ä»¥è¯´å®ƒéš¾ï¼Œä¸€æ˜¯å› ä¸ºå¾ˆå¤šç©·ä¸¾éœ€è¦é€’å½’å®ç°ï¼ŒäºŒæ˜¯å› ä¸ºæœ‰çš„é—®é¢˜æœ¬èº«çš„è§£ç©ºé—´å¤æ‚ï¼Œä¸é‚£ä¹ˆå®¹æ˜“ç©·ä¸¾å®Œæ•´ã€‚

- **å¤‡å¿˜å½•ã€DP table å°±æ˜¯åœ¨è¿½æ±‚â€œå¦‚ä½•èªæ˜åœ°ç©·ä¸¾â€**ã€‚ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ€è·¯ï¼Œæ˜¯é™ä½æ—¶é—´å¤æ‚åº¦çš„ä¸äºŒæ³•é—¨ã€‚

> ä»¥ä¸Šå‚è€ƒè‡ªğŸ”Š~ [ä½œè€…ï¼šlabuladong](https://leetcode-cn.com/problems/coin-change/solution/dong-tai-gui-hua-tao-lu-xiang-jie-by-wei-lai-bu-ke/)

## 2. å…¥é—¨é¢˜ï¼šé›¶é’±å…‘æ¢

ğŸ“š[322-é›¶é’±å…‘æ¢](https://leetcode-cn.com/problems/coin-change/)

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200806111226.png)

å…ˆè¯´ä¸€ä¸‹è‡ªå·±çš„åšé¢˜è¿‡ç¨‹ï¼š

- é¢˜ç›®è¦æ±‚æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯è´ªå¿ƒã€‚å…ˆå»é¢å€¼æœ€å¤§çš„5å…ƒï¼Œç„¶åä¾æ¬¡é€’å‡å»å°è¯•æœ€å¤§é¢å€¼çš„ç¡¬å¸

- <font color = red>è´ªå¿ƒæ— è§£</font>ã€‚å°è¯•äº†å¾ˆå¤šæ¬¡ï¼Œè´ªå¿ƒåªèƒ½æ˜¯å½“å‰æœ€ä¼˜ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨æ— æ³•å‡‘é½çš„æƒ…å†µã€‚

é’ˆå¯¹ä¸æ˜¯æœ€å¤§å€¼coinsçš„æƒ…å†µï¼Œè´ªå¿ƒç®—æ³•æ— æ³•æ±‚è§£

> coins = [3, ,20, 21],   amount = 43

å–ä¸¤ä¸ª`21`ï¼Œè´ªå¿ƒä¼šå‡ºç°å‰©ä½™`1`çš„æƒ…å†µï¼Œæ— è§£

----------------

- è´ªå¿ƒï¼šå½“ä¸‹åšå±€éƒ¨æœ€ä¼˜è§£ï¼Œä¸èƒ½å›é€€

- å›æº¯ï¼šèƒ½å¤Ÿå›é€€

- åŠ¨æ€è§„åˆ’ï¼šæœ€ä¼˜åˆ¤æ–­ï¼Œå¯ä»¥å›é€€

------------------

é‚£åŠ¨æ€è§„åˆ’çš„æ€ç»´ï¼Œè¿™é“é¢˜åˆ°åº•è¯¥æ€ä¹ˆè§£ï¼Ÿæ€ä¹ˆå»æƒ³ï¼Œæ€ä¹ˆå®ç°ï¼Ÿ

1. é¦–å…ˆï¼ŒåŠ¨æ€è§„åˆ’çš„æ€ç»´å°±æ˜¯ç©·ä¸¾ï¼Œå³æš´åŠ›è§£æ³•

2. æš´åŠ›çš„æ€ç»´å°±æ˜¯å»å°è¯•æ¯ä¸€ç§å¯èƒ½ï¼ŒæŠŠå®ƒä»¬éƒ½è¯•ä¸€é

3. è”æƒ³åˆ°å¯ä»¥åˆ—ä¸€ä¸ªè¡¨æ ¼ã€‚ä»¥ç¡¬å¸é¢å€¼å’Œamountä¸ºåæ ‡ï¼Œæšä¸¾æ‰€æœ‰å¯èƒ½

> è¿™é‡Œçš„æš´åŠ›è§£æ³•æ˜¯ä¼˜åŒ–çš„æš´åŠ›è§£æ³•ï¼Œå¹¶ä¸æ˜¯ç›´æ¥ä¸‰å±‚å¾ªç¯çš„ç›´æ¥æš´åŠ›ï¼Œç›´æ¥æš´åŠ›å¤æ‚åº¦å¤ªé«˜O(2^n^)

### è§£é¢˜åˆ†æ

æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸ªæ–°çš„ä¾‹å­

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200806113556.png)

å½“è¦å‡‘å‡ºä»·å€¼`W = 15`ï¼Œé¦–å…ˆé¢ä¸´**3ç§**æƒ…å†µçš„é€‰æ‹©ï¼š

1. å½“æˆ‘ä»¬å–äº†ä»·å€¼ä¸º`1`çš„ç¡¬å¸æ—¶ï¼Œå°†é¢ä¸´å‡‘å‡ºä»·å€¼ä¸º`14`çš„æƒ…å†µ

2. å½“æˆ‘ä»¬å–äº†ä»·å€¼ä¸º`5`çš„ç¡¬å¸æ—¶ï¼Œå°†é¢ä¸´å‡‘å‡ºä»·å€¼ä¸º`10`çš„æƒ…å†µ

3. å½“æˆ‘ä»¬å–äº†ä»·å€¼ä¸º`11`çš„ç¡¬å¸æ—¶ï¼Œå°†é¢ä¸´å‡‘å‡ºä»·å€¼ä¸º`4`çš„æƒ…å†µ

<font color=red>**è®°å‡‘å‡ºä»·å€¼`n`æ‰€éœ€è¦çš„æœ€å°‘ç¡¬å¸æ•°ä¸º`f(n)`**</font>

**ä¼ªä»£ç ï¼š**

`cost = amount + 1`

å®šä¹‰**dp**æ•°ç»„ï¼Œé•¿åº¦ä¸º`amount + 1`ï¼Œåˆå§‹åŒ–æ•°ç»„å†…çš„æ‰€æœ‰å€¼ä¸º`cost`

- `F(15) = cost = min(16, 1 + f(14)) = 5`

- `F(15) = cost = min( 5, 1 + f(10)) = 3`

- `F(15) = cost = min( 3, 1 + f( 4)) = 5`

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200806113639.png)

å½“æˆ‘è¦è®¡ç®—`f(14)`æ—¶ï¼Œæˆ‘ä¸éœ€è¦é‡æ–°è®¡ç®—ä¸€éï¼Œç›´æ¥ç”¨ä¸Šä¸€æ­¥çš„è®¡ç®—ç»“æœ`F(14) = 4`å³å¯

æˆ‘ä»¬åœ¨æ¯ä¸€è¡Œä¸­é€‰å–æœ€å°å€¼ï¼Œå°±æ˜¯ç›¸åº”è¯¥é‡‘é¢ä¸‹çš„æœ€ä¼˜è§£

-------------------

é‚£ä¹ˆï¼Œæˆ‘ä»¬æ ¹æ®ä¸Šé¢çš„ä¾‹å­ï¼Œæ¥è§£å†³è¿™é“é—®é¢˜ï¼š

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807102112.png)

ä¸€ã€é¦–å…ˆæ¥ç”»äºŒç»´è¡¨ï¼Œæ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807113627.png)

è¿™ä¸ªè¡¨æ˜¯æ€ä¹ˆå¾—å‡ºæ¥æ¥çš„ï¼Ÿ

- æ˜¯æ ¹æ®è¿™æ ·é€‰æ‹©å¾—æ¥

- å°†è¡¨äºŒçš„æœ€ä¼˜è§£å¡«å…¥åˆ°è¡¨ä¸€å¯¹åº”çš„å‘ä½

> æ³¨æ„è¯­ä¹‰åˆ†æ

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807113905.png)

äºŒã€ç¼–å†™ä¼ªä»£ç 

`cost = amount + 1`

å®šä¹‰**dp**æ•°ç»„ï¼Œé•¿åº¦ä¸º`amount + 1`ï¼Œåˆå§‹åŒ–æ•°ç»„å†…çš„æ‰€æœ‰å€¼ä¸º`cost`

å‡‘æˆé¢å€¼ä¸º 11 çš„æœ€å°ç¡¬å¸æ•°å¯ä»¥ç”±ä»¥ä¸‹ 3 è€…çš„æœ€å°å€¼å¾—åˆ°ï¼š

- å‡‘æˆé¢å€¼ä¸º `10` çš„æœ€å°æ•° **+** é¢å€¼ä¸º `1` çš„è¿™ä¸€æšï¼›

- å‡‘æˆé¢å€¼ä¸º` 9 `çš„æœ€å°æ•° **+** é¢å€¼ä¸º` 2 `çš„è¿™ä¸€æšï¼›

- å‡‘æˆé¢å€¼ä¸º` 6 `çš„æœ€å°æ•° **+** é¢å€¼ä¸º` 5 `çš„è¿™ä¸€æšï¼›

å³ `dp[11] = min (dp[10] + 1, dp[9] + 1, dp[6] + 1)`

å¯ä»¥ç›´æ¥æŠŠé¢˜ç›®çš„é—®æ³•è®¾è®¡æˆçŠ¶æ€

------------------

### ä»£ç ç¼–å†™æ€è·¯

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200806140526.png)

> å›¾ç‰‡ä½œè€…ï¼š[@shixuewei](https://leetcode-cn.com/u/shixuewei/)

```java
public int coinChange(int[] coins, int amount) {
    int[][] dp = new int[coins.length + 1][amount + 1];
    // æ³¨æ„ï¼šå› ä¸ºè¦æ¯”è¾ƒçš„æ˜¯æœ€å°å€¼ï¼Œè¿™ä¸ªä¸å¯èƒ½çš„å€¼å°±å¾—èµ‹å€¼æˆä¸ºä¸€ä¸ªæœ€å¤§å€¼
    //åˆå§‹åŒ–ç¬¬ä¸€è¡Œ
    for (int j = 1; j <= amount; j++) {
        dp[0][j] = amount + 1;
    }
    dp[0][0] = 0;
    for (int i = 1; i <= coins.length; i++) {
        for (int j = 1; j <= amount; j++) {
            //çŠ¶æ€è½¬ç§»æ–¹ç¨‹
            if (j < coins[i - 1]) {
                dp[i][j] = dp[i - 1][j];
            } else {
                //ç”±äºæ¯ç§ç¡¬å¸æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥ 1 + dp[i]ã€æ­¤å¤„ä¸ºiã€‘[j-coins[i-1]]
                dp[i][j] = Math.min(dp[i - 1][j], 1 + dp[i][j - coins[i - 1]]);
            }
        }
    }
    return (dp[coins.length][amount] == amount + 1) ? -1 : dp[coins.length][amount];
}
```

**ã€æ³¨æ„ç‚¹ã€‘**

1. ä¸€å®šè¦è¿›è¡Œ`dp`æ•°ç»„çš„åˆå§‹åŒ–ï¼Œå°†å…¶å…¨éƒ¨èµ‹å€¼ä¸º`cost`(cost = amount + 1)ï¼›
   
   ä¸ºä»€ä¹ˆå°† `dp` æ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½åˆå§‹åŒ–ä¸º `amount + 1`ï¼š
   
   è¿™æ˜¯ç”±äº `dp[amount]` æœ€å¤§ä¸å¯èƒ½è¶…è¿‡ `amount`ï¼ˆæœ€å°é¢å€¼ä¸º 1 å…ƒï¼‰ï¼Œæ‰€ä»¥ `amount + 1` å°±æ˜¯ä¸€ä¸ªæ— æ„ä¹‰çš„æ•°äº†ã€‚

2. `dp[0][0]`åˆå§‹åŒ–ä¸º0ï¼Œæ›´åŠ ç¬¦åˆé€»è¾‘ã€‚ç¡¬å¸é¢å€¼ä¸º0ï¼Œacconutä¸º0

3. ç”±äº**æ¯ç§ç¡¬å¸æ˜¯æ— é™**çš„ï¼Œæ‰€ä»¥ï¼š`1 + dp[i]ã€æ­¤å¤„ä¸ºiã€‘[j-coins[i-1]]`

```java
//ç”±äºæ¯ç§ç¡¬å¸æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥ 1 + dp[i]ã€æ­¤å¤„ä¸ºiã€‘[j-coins[i-1]]

dp[i][j] = Math.min(dp[i - 1][j], 1 + dp[i][j - coins[i - 1]]);
```

3. **dp[i - 1] [j] æ˜¯ä¸Šä¸€æ¬¡æ±‚å‡ºçš„æœ€ä¼˜å€¼**

### ä»£ç æ”¹è¿›

ä»£ç å†™èµ·æ¥å’Œä¹‹å‰çš„ä¸€è‡´ï¼Œåªæ˜¯äºŒç»´å˜ä¸ºä¸€ç»´

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200806140543.png)

```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        // ç»™ 0 å ä½
        int[] dp = new int[amount + 1];
        // æ³¨æ„ï¼šå› ä¸ºè¦æ¯”è¾ƒçš„æ˜¯æœ€å°å€¼ï¼Œè¿™ä¸ªä¸å¯èƒ½çš„å€¼å°±å¾—èµ‹å€¼æˆä¸ºä¸€ä¸ªæœ€å¤§å€¼
        Arrays.fill(dp, amount + 1);
        dp[0] = 0;
        for(int i = 1; i <= amount; i++) {
            for (int coin : coins) {
                if (i - coin < 0) continue;
                //dp[i]æ˜¯ä¸Šä¸€æ¬¡æ±‚å‡ºçš„æœ€ä¼˜å€¼
                dp[i] = Math.min(dp[i], 1 + dp[i-coin]);
            }
        }
        return dp[amount] > amount ? -1 : dp[amount];
    }
}
```

ä¸ºä»€ä¹ˆå‡½æ•°è¿”å›çš„æ—¶å€™åˆ¤æ–­çš„æ˜¯ `dp[amount] > amount` è€Œä¸æ˜¯ `dp[amount] == amount + 1` å‘¢ï¼Ÿ

```
return dp[amount] > amount ? -1 : dp[amount];
```

è¿™é‡Œæ˜¾ç„¶æ˜¯å¯ä»¥ç”¨ `dp[amount] == amount + 1` æ¥åˆ¤æ–­çš„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨è®¡ç®— `dp` æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ—¶ï¼Œéƒ½ç”¨åˆ°äº† `min` å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å“ªæ€•æœ‰ä¸€ä¸ªå…ƒç´ æ˜¯å¤§äº `amount + 1` çš„æœ€ç»ˆéƒ½ä¼šè¢«æœ€å°åŒ–ä¸º `amount + 1`ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨ `dp[amount] > amount` è¿˜æ˜¯ `dp[amount] == amount + 1` æ²¡æœ‰åŒºåˆ«ã€‚

------------------

## 3. 0-1èƒŒåŒ…é—®é¢˜

**ã€é—®é¢˜æè¿°ã€‘**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807125558.png)

**æ³¨æ„ï¼šæ¯ä¸ªç‰©å“åªæœ‰ä¸€ä»¶ã€‚å³ç‰©å“åªæœ‰0å’Œ1ä¸¤ç§çŠ¶æ€**

--------------------

### è§£é¢˜åˆ†æ

ä¸ä¸Šä¸€é¢˜ä¸åŒçš„æ˜¯ï¼š

- ç‰©å“çš„æ•°é‡æ˜¯æœ‰é™çš„ï¼Œåªæœ‰ä¸€ä»¶ï¼Œæ‹¿äº†å°±æ²¡äº†

- æ±‚çš„æ˜¯**æœ€å¤§ä»·å€¼**

**è€ƒè™‘ä¸¤ç§çŠ¶æ€ï¼Œæ‹¿è¿˜æ˜¯ä¸æ‹¿**

- æ‹¿ï¼šèƒŒåŒ…æ€»å®¹é‡å‡W<sub>i</sub>ï¼Œå¯é€‰ç‰©å“å˜ä¸º `i-1 `ä»¶ï¼Œä»·å€¼å¢åŠ value<sub>i</sub>

- ä¸æ‹¿ï¼šèƒŒåŒ…å®¹é‡ä¸å˜ï¼Œå¯é€‰ç‰©å“å˜ä¸º `i-1` ä»¶ï¼Œä»·å€¼ä¸å˜

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807151658.png)

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807153513.png)

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807153535.png)

### å›æº¯åˆ†æ

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807151821.png)

ä»è¡¨æ ¼å³ä¸‹è§’å¼€å§‹å›çœ‹ï¼š

**åœ¨èƒŒåŒ…å®¹é‡ä¸º8æ—¶ï¼Œè€ƒè™‘å‰4ä¸ªç‰©å“çš„æœ€ä½³ç»„åˆï¼Œæ‰€èƒ½è£…å…¥çš„æœ€å¤§ä»·å€¼ä¸º10**

å¦‚æœ<mark><u>æ²¡æœ‰è£…å…¥</u></mark>ç¬¬`4`å·ç‰©å“ï¼Œåˆ™å‰`4`ä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼å’Œå‰`3`ä¸ªç‰©å“ç»„åˆçš„æœ€å¤§ä»·å€¼æ˜¯**ç›¸åŒçš„**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807152437.png)

- æ­¤æ—¶èƒŒåŒ…å®¹é‡ä¸º8 - 5 = `3`

å†çœ‹`3`å·ç‰©å“æœ‰æ²¡æœ‰è£…å…¥ã€‚å¦‚æœè£…å…¥ï¼Œåˆ™å’Œå‰ä¸¤ä¸ªè£…å…¥ç‰©å“çš„æœ€å¤§ä»·å€¼æ˜¯**ä¸åŒçš„**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807153116.png)

- æ­¤æ—¶èƒŒåŒ…å®¹é‡ä¸º3 - 0 = `3`

åŒç†`2`å·ç‰©å“è£…å…¥èƒŒåŒ…

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807153737.png)

- æ­¤æ—¶èƒŒåŒ…å®¹é‡ä¸º 3 - 3 =` 0`

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807153903.png)

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200807153914.png)

```java
/**
 * @Author: Mr.Q
 * @Date: 2020-08-06 10:20
 * @Description:0-1èƒŒåŒ…é—®é¢˜
 * æ¯ç±»ç‰©å“æœ€å¤šè£…ä¸€æ¬¡
 */
public class Main {
    public static int backPack(int V, int N, int[] weight, int[] value) {
        //ä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…, Nä»¶ç‰©å“
        int[][] dp = new int[N + 1][V + 1];

        // æ³¨æ„ï¼šå› ä¸ºè¦æ¯”è¾ƒçš„æ˜¯æœ€å¤§å€¼ï¼Œè¿™ä¸ªä¸å¯èƒ½çš„å€¼å°±å¾—èµ‹å€¼æˆä¸ºä¸€ä¸ªæœ€å°å€¼ï¼Œå³æ•°ç»„é»˜è®¤å€¼å³å¯
        dp[0][0] = 0;

        for (int i = 1; i <= N; i++) {
            for (int j = 1; j <= V; j++) {
                //ç”±äºvalueï¼Œweightå®šä¹‰çš„æ˜¯åŸæ•°ç»„é•¿åº¦ï¼Œè€Œdpå®šä¹‰çš„æ˜¯åŸæ•°ç»„é•¿åº¦+1
                //æ‰€ä»¥è®¿é—®valueï¼Œweightæ—¶index-1æ‰èƒ½ä¿è¯å¯¹åº”èµ·æ¥
                if (weight[i - 1] > j) {
                    dp[i][j] = dp[i - 1][j];
                } else {
                    dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - weight[i - 1]] + value[i - 1]);
                }
            }
        }
        int maxValue = dp[N][V];
        return maxValue;
    }

    public static void main(String[] args) {
        int capacity = 8;
Â Â Â Â Â Â Â Â //ç‰©å“ç¼–å· 1 2 3 4
        int[] weight = {2, 3, 4, 5};
        int[] value =  {3, 4, 5, 8};
        //weight.length == value.length
        System.out.println(backPack(capacity, weight.length, weight, value));
    }
}
```

### OJèƒŒåŒ…é—®é¢˜

ğŸ“š[èƒŒåŒ…é—®é¢˜](https://www.nowcoder.com/questionTerminal/3ee42c9155c340588729995561ace594)

æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„ä»·å€¼æ˜¯C[i]ï¼Œé‡é‡æ˜¯W[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿ä»·å€¼æ€»å’Œæœ€å¤§ã€‚

è¾“å…¥æè¿°:

> è¾“å…¥ç¬¬ä¸€è¡Œæ•°ï¼šN V (1 <=N <=500) (1<= V <= 10000)  
> 
> è¾“å…¥ Nè¡Œ ä¸¤ä¸ªæ•°å­— ä»£è¡¨ C W (1 <= C <= 50000, 1 <= W <=10000

è¾“å‡ºæè¿°:

> è¾“å‡ºæœ€å¤§ä»·å€¼

ã€ç¤ºä¾‹ã€‘ï¼š

è¾“å…¥

- 5 10

- 8 6

- 10 4

- 4 2

- 5 4

- 5 3

è¾“å‡º

- 19

**ä»£ç å®ç°ï¼š**

![](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/imgs01/20200806143244.png)


